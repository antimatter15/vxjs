<title>vX Tests/Demos</title>
<h1>vX Tests/Demos</h1>

<h2>Ajax</h2>
<a href="javascript:void(0)" id="ajax">Click here</a> to find out the size of the vX Javascript Library using vX Ajax.<br>
<span>Size: </span><span id="vxs">Why dont you try finding out? (not this has not been updated)</span>

<h2>JSON</h2>
<a href="javascript:void(0)" id="urlencode">Click here</a> to see queryencoded json.<br>
<a href="javascript:void(0)" id="stringify">Click here</a> to see stringified json.<br>

<h2>Events</h2>
<a href="javascript:void(0)" id="events">Click here</a> to test if events work.<br>
<a href="javascript:void(0)" id="remevents">Click here</a> to remove above link's handler.<br>

<h2>HTML Entities</h2>
<a href="javascript:void(0)" id="entenc">Click here</a> to encode HTML entities.<br>
<a href="javascript:void(0)" id="entdec">Click here</a> to decode HTML entities.<br>

<h2>Templating</h2>
<a href="javascript:void(0)" id="template">Click here</a> to test out Templating.<br>
<a href="javascript:void(0)" id="template2">Click here</a> to test out Templating (again).<br>

<h2>Class Names</h2>
<a href="javascript:void(0)" id="class1">Click here</a> to find elements with the "fxl" class<br>
<a href="javascript:void(0)" id="class2">Click here</a> to find elements with the "fx" class<br>

<h2>Strings</h2>
<a href="javascript:void(0)" id="strtrim">Click here</a> to trim text<br>

<h2>Script Loader</h2>
<a href="javascript:void(0)" id="scriptload">Click here</a> to load something<br>
<a href="javascript:void(0)" id="scriptload2">Click here</a> to load Firebug Lite!<br>

<h2>Auto Fill</h2>
<input type="text" id="autofill">
<ul id="autofillbox" style="position:absolute;display:none;margin:0;padding:0;z-index:1337;border:1px solid #808080;background-color:#D3D3D3">
</ul>


<h2>Position</h2>
<a href="javascript:void(0)" id="postl">Where am I?</a><br>
<a href="javascript:void(0)" id="poswh">Am I fat?</a><br>

<h2>Animation</h2>
<a href="javascript:void(0)" class="fxl" id="fadeout">Click here</a> to fade out the following block.<br>
<a href="javascript:void(0)" class="fxl" id="fadein">Click here</a> to fade in the following block.<br>
<br>
<div id="fx" class="fx" style="width: 200px; height: 100px; background-color: rgb(0, 255, 0)"></div>

<script type="text/javascript" src="lib/vx.all.js"></script>

<script type="text/javascript">

_.E(_.G("ajax"), "click", function(){
  _.G("vxs").innerHTML = "Checking...";
  //you understand I could just do one request to vx.all.js and get that size. but I dont feel like it.
  var count = 0;
  var files = ["vx.js","vx.ajax.js","vx.event.js","vx.anim.js","vx.queryencode.js","vx.fade.js","vx.stringify.js","vx.clone.js"];
  var done = 0;
  
  for(var i = 0; i < files.length; i++){
    _.X("lib/"+files[i],function(e){
      count+=e.length;
      done++;
      _.G("vxs").innerHTML = "Checking... "+done+"/"+files.length+"...";
      if(done >= files.length){
        _.G("vxs").innerHTML = (count/1000)+"kb";
      }
    })
  }
  return false
})

_.E(_.G("fadein"), "click", function(){
  _.F("in", _.G("fx"))
})

_.E(_.G("fadeout"), "click", function(){
  _.F("out", _.G("fx"))
})


_.E(_.G("urlencode"), "click", function(){
  alert(_.Q({
    you: "suck",
    howmuch: "alot"
  }))
})

_.E(_.G("stringify"), "click", function(){
  alert(_.S({
    hello: "world!",
    recurse:
      {
        awesome: "true"
      }
  }))
})

_.E(_.G("template"), "click", function(){
  alert(_.M("Hello {name}! I {verb} your {noun}.",
  {
    name: prompt("Enter A Name"),
    verb: prompt("Enter a Past Tense Verb"),
    noun: prompt("Enter a Noun")
  }
  ))
})

_.E(_.G("strtrim"), "click", function(){
  alert(_.trim(prompt("enter a string with trailing or prepended whitepace to trim!","     poooop    ")));
  
})

_.E(_.G("template2"), "click", function(){
  alert(_.M("vX is being {verb} by {noun}, becasue of its {verb2} {adjective}ness.",
  {
    verb: prompt("Enter a Past Tense Verb"),
    verb2: prompt("Enter a Verb"),
    adjective: prompt("Enter an adjective"),
    noun: prompt("Enter a Noun")
  }
  ))
})


_.E(_.G("scriptload"),"click", function(){
  _.include("http://vxjs.googlecode.com/svn-history/r266/trunk/scriptloadtest.js");
})

//http://getfirebug.com/releases/lite/1.2/firebug-lite-compressed.js

_.E(_.G("scriptload2"),"click", function(){
  _.include("http://getfirebug.com/releases/lite/1.2/firebug-lite-compressed.js");
  (function(){
  if(window.firebug && window.firebug.version){
  firebug.init();
  }else{
  setTimeout(arguments.callee);
  }})();
})

_.E(_.G("entdec"), "click", function(){
  alert(_.H("&lt;moo&gt;&lt;poo&gt;",true));
})

_.E(_.G("entenc"), "click", function(){
  alert(_.H("<moo><poo>"));
})

_.E(_.G("class1"), "click", function(){
  alert(_.C("fxl").length)
})

_.E(_.G("class2"), "click", function(){
  alert(_.C("fx").length)
})


_.E(_.G("poswh"), "click", function(){
  var pos = _.P(_.G("poswh"));
  alert("Width: "+pos.w);
  alert("Height: "+pos.h);
})

_.E(_.G("postl"), "click", function(){
  var pos = _.P(_.G("postl"));
  alert("Top: "+pos.t);
  alert("Left: "+pos.l);
})

function new_autofill(textbox, fillbox){
  var list=[]
  var last_query = -1;
  function update_list(){
    var value = textbox.value;
    for(var i = 0; i < list.length; i++){
      if(list[i].indexOf(value) == 0){
        fillbox.style.display = "block"
        var li = _.d.createElement("li");
        li.className = "autofillitem"
        li.innerHTML = "<a href='javascript:void(0)'>"+list[i].replace(value, "<b>"+value+"</b>")+"</a>"
	li.textvalue = list[i]
	li.onclick = function(){
	  textbox.value = this.textvalue
	}
        fillbox.appendChild(li)
      }
    }
  }
  _.E(textbox, "blur", function(){
    setTimeout(function(){
      fillbox.innerHTML = ""
      fillbox.style.display = "none"
    },100)
  })
  _.E(textbox, "keyup", function(){
    var pos = _.pos(textbox)
    fillbox.style.left = pos.l + "px"
    fillbox.style.top = pos.t + pos.h + "px"
    fillbox.style.width = pos.w + "px"
    fillbox.innerHTML = ""
    fillbox.style.display = "none"
    if(textbox.value != ""){
      if(textbox.value.indexOf(last_query) == 0){
        update_list()
        last_query = textbox.value;
      }else{
        //setTimeout(function(){
        _.ajax("words.txt?query="+textbox.value, function(data){
          list = data.split(",")
          update_list()
          last_query = textbox.value;
        })
        //}, 500)
      }
    }
  })
}

new_autofill(_.id("autofill"), _.id("autofillbox"))

var handler = function(){
  alert("You see this because events are working")
}

_.E(_.G('events'), "click", handler);
_.E(_.G("remevents"), "click", function(){ //on event
  alert("Hai! Me Removing Events!");
  _.E(_.G('events'), "click", handler, true); //..remove event
})

</script>
